"use strict";(self.webpackChunkroman_react_app=self.webpackChunkroman_react_app||[]).push([[530],{8530:function(e,n,s){s.r(n),s.d(n,{default:function(){return B}});var t=s(2791),i="Users_main__0PEo3",r="Users_users__TYULk",o="Users_user__bWaKv",u="Users_userPhoto__83sBR",a="Users_userName__fIwYa",l="Users_followBtn__ZfpLI",c=s(3103),d=s(3504),f=s(7781),g=s(8687),m=s(4639),h=s(772),_=function(e){return e.usersPage.users},p=function(e){return e.usersPage.pageSize},v=function(e){return e.usersPage.totalUsersCount},b=function(e){return e.usersPage.currentPage},P=function(e){return e.usersPage.pagesLimit},x=function(e){return e.usersPage.isFetching},N=function(e){return e.usersPage.disabledSubscribeButton},j=s(643),k="Pagination_paginationNumbers__Nhtm+",C="Pagination_paginationNumber__-D4vq",w="Pagination_paginationNumberActive__+vHi7",U="Pagination_paginationNumberHold__qoRx-",L=s(184),S=function(e){var n=e.onPageChanged,s=e.currentPage,i=e.pagesLimit,r=e.totalItemsCount,o=e.pageSize,u=(0,t.useMemo)((function(){return Math.ceil(r/o)}),[r,o]),a=(0,t.useMemo)((function(){return Math.floor((s-1)/i)*i+1}),[s,i]),l=(0,t.useMemo)((function(){return a+i-1}),[a,i]),c=(0,t.useMemo)((function(){for(var e=[],n=1;n<=u;n++)e.push(n);return e}),[u]).filter((function(e){return e>=a&&e<=l})).map((function(e){return(0,L.jsx)("div",{onClick:function(s){n(e)},className:s===e?w:C,children:e},e)}));return(0,L.jsxs)("div",{className:k,children:[(0,L.jsx)("div",{className:s>i?C:U,onClick:function(){n(1)},children:"First page"}),(0,L.jsx)("div",{onClick:function(){n(s-1)},className:s>1?C:U,children:"Previous"}),c,(0,L.jsx)("div",{onClick:function(){n(s+1)},className:s===u?U:C,children:"Next"}),(0,L.jsx)("div",{className:s<=u-i?C:U,onClick:function(){n(u)},children:"Last page"})]})},T=t.memo((function(e){var n=e.users,s=e.pageSize,f=e.totalUsersCount,g=e.currentPage,m=e.pagesLimit,h=e.isFetching,_=e.disabledSubscribeButton,p=(e.follow,e.unFollow,e.setCurrentPage),v=(e.setDisabledButtonValue,e.getUsersThunk),b=e.followUserThunk,P=e.unfollowUserThunk;(0,t.useEffect)((function(){v(g,s)}),[n.length]);var x=n.map((function(e){return(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("div",{className:u,children:(0,L.jsx)(d.OL,{to:"/profile/"+e.id,children:(0,L.jsx)("img",{src:null!=e.photos.small?e.photos.small:c})})}),(0,L.jsx)("div",{className:a,children:e.name}),(0,L.jsx)("div",{className:l,children:e.followed?(0,L.jsx)("button",{disabled:_.some((function(n){return n===e.id})),onClick:function(){var n;n=e.id,P(n)},children:"Unfollow"}):(0,L.jsx)("button",{disabled:_.some((function(n){return n===e.id})),onClick:function(){var n;n=e.id,b(n)},children:"Follow"})})]},e.id)}));return h?(0,L.jsx)(j.Z,{}):(0,L.jsx)("div",{className:i,children:(0,L.jsxs)("div",{className:r,children:[x,(0,L.jsx)(S,{onPageChanged:function(e){p(e),v(e,s),window.scrollTo({behavior:"smooth",top:"0px"})},currentPage:g,pagesLimit:m,totalItemsCount:f,pageSize:s})]})})})),B=(0,f.qC)((0,g.$j)((function(e){return{users:_(e),pageSize:p(e),totalUsersCount:v(e),currentPage:b(e),pagesLimit:P(e),isFetching:x(e),disabledSubscribeButton:N(e)}}),{follow:m.ZN,unFollow:m.IJ,setCurrentPage:m.D4,setDisabledButtonValue:m.lS,getUsersThunk:m.aH,followUserThunk:m.qh,unfollowUserThunk:m.$1}),h.k)(T)}}]);
//# sourceMappingURL=530.e1a1f028.chunk.js.map